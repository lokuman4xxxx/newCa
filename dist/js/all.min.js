$(".select-to-price").click(function(){$(this).toggleClass("checked");var e=$(".checked").length;switch(e){case 0:$(".select-to-price").css("cursor","pointer"),$(this).css("cursor","pointer").find("i").toggleClass("fa-circle-thin").toggleClass("fa-check-circle"),$(".select-prompt").removeClass("display-none"),$(".matched-info").addClass("display-none"),$(".prod-price-in").remove();break;case 1:$(".select-to-price").css("cursor","pointer"),$(this).css("cursor","pointer").find("i").toggleClass("fa-circle-thin").toggleClass("fa-check-circle");var t=$(this).parents(".price-match").find("td"),r=t.eq(0).find("a").attr("href"),i=t.eq(0).html(),n=t.eq(0).find("img").attr("src"),c=t.eq(0).find("img").attr("alt"),a=t.eq(1).text();if(elepriceInfo='<div data-retailer-name="'+c+'" class="prod-price-in">Product price is <b>'+a+"</b> at"+i+"</div>",$("#matched-price").text(a),$("#high-retailer-link").attr("href",r),$("#high-retailer-img").attr("src",n),$(this).hasClass("checked"))$(elepriceInfo).insertBefore(".print-prompt");else{var o=$(".select-to-price.checked").parents(".price-match").find("td"),l=o.eq(0).find("a").attr("href"),d=(o.eq(0).html(),o.eq(0).find("img").attr("src")),s=(o.eq(0).find("img").attr("alt"),o.eq(1).text());$("#matched-price").text(s),$("#high-retailer-link").attr("href",l),$("#high-retailer-img").attr("src",d);for(var p=0;1>=p;p++){t.eq(0).find("img").attr("alt"),t.eq(1).find("img").attr("alt");c==$(".prod-price-in").eq(p).data("retailer-name")&&$(".prod-price-in[data-retailer-name="+c+"]").remove()}}$(".select-prompt").addClass("display-none"),$(".matched-info").removeClass("display-none");break;case 2:var t=$(this).parents(".price-match").find("td"),r=t.eq(0).find("a").attr("href"),i=t.eq(0).html(),n=t.eq(0).find("img").attr("src"),c=t.eq(0).find("img").attr("alt"),a=t.eq(1).text();elepriceInfo='<div data-retailer-name="'+c+'" class="prod-price-in">Product price is <b>'+a+"</b> at"+i+"</div>";var h=$(".select-to-price.checked").parents(".price-match"),f=parseFloat(h.eq(0).find("td").eq(1).find("span").text()),m=parseFloat(h.eq(1).find("td").eq(1).find("span").text()),u=h.eq(0).find("td").eq(0).find("img").attr("src"),g=h.eq(1).find("td").eq(0).find("img").attr("src"),v=h.eq(0).find("td").eq(0).find("a").attr("href"),y=h.eq(1).find("td").eq(0).find("a").attr("href"),q=h.eq(0).find("td").eq(0).find("img").attr("alt"),x=h.eq(1).find("td").eq(0).find("img").attr("alt");f>m?("bestbuy"==q?$("#matched-price").text("$"+(m-.1*(f-m)).toFixed(2)):"homedepot"==q?$("#matched-price").text("$"+(.9*m).toFixed(2)):"sears"==q?$("#matched-price").text("$"+(.9*m).toFixed(2)):"visions"==q?$("#matched-price").text("$"+(m-.15*(f-m)).toFixed(2)):$("#matched-price").text("$"+m),$("#high-retailer-link").attr("href",v),$("#high-retailer-img").attr("src",u)):m>f?("bestbuy"==x?$("#matched-price").text("$"+(f-.1*(m-f)).toFixed(2)):"homedepot"==x?$("#matched-price").text("$"+(.9*f).toFixed(2)):"sears"==x?$("#matched-price").text("$"+(.9*f).toFixed(2)):"visions"==x?$("#matched-price").text("$"+(f-.15*(m-f)).toFixed(2)):$("#matched-price").text("$"+f),$("#high-retailer-link").attr("href",y),$("#high-retailer-img").attr("src",g)):($("#matched-price").text(a),$("#high-retailer-link").attr("href",r),$("#high-retailer-img").attr("src",n)),$(elepriceInfo).insertBefore(".print-prompt"),$(".select-to-price:not(.checked)").css("cursor","not-allowed").removeClass("checked"),$(".select-to-price").css("cursor","not-allowed"),$(".select-to-price.checked").css("cursor","pointer"),$(this).find("i").toggleClass("fa-circle-thin").toggleClass("fa-check-circle");break;default:$(this).hasClass("checked")&&$(this).removeClass("checked"),$(".select-to-price").css("cursor","not-allowed")}}),$(".result-print").click(function(){$(".modal-contents .prod-price-in").remove(),$(".modal-contents h3").text($(".result-prod-right").text()),$(".prod-price-in").eq(1).clone().prependTo(".modal-contents .col-lg-9"),$(".prod-price-in").eq(0).clone().prependTo(".modal-contents .col-lg-9"),$(".modal-matched-price span").text($("#matched-price").text()),$(".modal-matched-retailer").html("Get Matched Price From "+$("#high-retailer-link").html()),$(".modal-contents .col-lg-3").html($(".result-prod-img").html())}),function(e){"use strict";function t(t){var r=e("");try{r=e(t).clone()}catch(i){r=e("<span />").html(t)}return r}function r(t,r,i){var n=e.Deferred();try{t=t.contentWindow||t.contentDocument||t;var c=t.document||t.contentDocument||t;i.doctype&&c.write(i.doctype),c.write(r),c.close(),setTimeout(function(){t.focus();try{t.document.execCommand("print",!1,null)||t.print()}catch(e){t.print()}t.close(),n.resolve()},i.timeout)}catch(a){n.reject(a)}return n}function i(t,i){var c=e(i.iframe+""),a=c.length;0===a&&(c=e('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999}));var o=c.get(0);return r(o,t,i).done(function(){setTimeout(function(){0===a&&c.remove()},100)}).fail(function(e){console.error("Failed to print from iframe",e),n(t,i)}).always(function(){try{i.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}function n(e,t){var i=window.open();return r(i,e,t).always(function(){try{t.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}function c(e){return!!("object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}e.print=e.fn.print=function(){var r,a,o=this;o instanceof e&&(o=o.get(0)),c(o)?(a=e(o),arguments.length>0&&(r=arguments[0])):arguments.length>0?(a=e(arguments[0]),c(a[0])?arguments.length>1&&(r=arguments[1]):(r=arguments[0],a=e("html"))):a=e("html");var l={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:e.Deferred(),timeout:250,title:null,doctype:"<!doctype html>"};r=e.extend({},l,r||{});var d=e("");r.globalStyles?d=e("style, link, meta, title"):r.mediaPrint&&(d=e("link[media=print]")),r.stylesheet&&(d=e.merge(d,e('<link rel="stylesheet" href="'+r.stylesheet+'">')));var s=a.clone();if(s=e("<span/>").append(s),s.find(r.noPrintSelector).remove(),s.append(d.clone()),r.title){var p=e("title",s);0===p.length&&(p=e("<title />"),s.append(p)),p.text(r.title)}s.append(t(r.append)),s.prepend(t(r.prepend)),r.manuallyCopyFormValues&&(s.find("input").each(function(){var t=e(this);t.is("[type='radio']")||t.is("[type='checkbox']")?t.prop("checked")&&t.attr("checked","checked"):t.attr("value",t.val())}),s.find("select").each(function(){var t=e(this);t.find(":selected").attr("selected","selected")}),s.find("textarea").each(function(){var t=e(this);t.text(t.val())}));var h=s.html();try{r.deferred.notify("generated_markup",h,s)}catch(f){console.warn("Error notifying deferred",f)}if(s.remove(),r.iframe)try{i(h,r)}catch(m){console.error("Failed to print from iframe",m.stack,m.message),n(h,r)}else n(h,r);return this}}(jQuery),$("#printable").find(".print").on("click",function(){$.print("#printable")});